<Window
    x:Class="runlock::MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:runlock"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid AllowDrop="True" Drop="Archive_Drop">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <MenuBar Grid.Row="0">
            <MenuBarItem Title="Project">
                <MenuFlyoutItem Text="Save" Click="SaveProject_Click"/>
                <MenuFlyoutItem Text="Load" Click="LoadProject_Click"/>
            </MenuBarItem>
        </MenuBar>

        <ScrollViewer Grid.Row="1">
            <StackPanel Spacing="12" Padding="12">
                <StackPanel Orientation="Horizontal" AllowDrop="True" Drop="Archive_Drop" DragOver="Archive_DragOver">
                    <TextBox x:Name="ArchivePath" Width="300" IsReadOnly="True" PlaceholderText="Select .rar archive or drag file here"/>
                    <Button Content="Browse..." Click="BrowseArchive_Click" Margin="8,0,0,0"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="CPU Cores:" VerticalAlignment="Center"/>
                    <NumberBox x:Name="CpuCores" Minimum="1" Maximum="64" Width="80" Margin="8,0,0,0"/>
                </StackPanel>

                <TextBox x:Name="PasswordRules" AcceptsReturn="True" Height="200" TextWrapping="Wrap" PlaceholderText="Enter password rules or drop a text file" AllowDrop="True" Drop="Rules_Drop" DragOver="Rules_DragOver"/>

                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Min Length:" VerticalAlignment="Center"/>
                    <NumberBox x:Name="MinLength" Minimum="1" Maximum="128" Width="80" Margin="8,0,0,0"/>
                    <TextBlock Text="Max Length:" VerticalAlignment="Center" Margin="12,0,0,0"/>
                    <NumberBox x:Name="MaxLength" Minimum="1" Maximum="128" Width="80" Margin="8,0,0,0"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal">
                    <Button x:Name="GenerateButton" Content="Generate Passwords" Click="GeneratePasswords_Click"/>
                    <Button x:Name="StartPauseButton" Content="Start" Click="StartPause_Click" Margin="8,0,0,0"/>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>

        <StackPanel Grid.Row="2" Orientation="Horizontal" Spacing="8" Padding="12">
            <ProgressBar x:Name="Progress" Width="200" Height="20"/>
            <TextBlock x:Name="StatusText" Text="Idle" VerticalAlignment="Center"/>
        </StackPanel>
    </Grid>
</Window>
